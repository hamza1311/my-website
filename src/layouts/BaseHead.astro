---
import "../styles/global.css"
import config from "../../config.json"

const { title = "", description } = Astro.props
const pageTitlePrefix = title === "" ? "" : `${title} | `

const pageTitle = `${pageTitlePrefix}${config.name}`
const pageDescription =
    description === ""
        ? config.description
        : description
---

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>{pageTitle}</title>
<meta name="description" content={pageDescription} />

<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="alternate icon" href="/favicon.ico" />

<meta name="og:type" content="website" />
<meta name="og:title" content={pageTitle} />
<meta name="og:description" content={pageDescription} />

<meta name="twitter:title" content={pageTitle} />
<meta name="twitter:description" content={pageDescription} />


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  if (window.location.hostname === 'elina.website') {
    gtag('config', 'G-YW12WC8J5Q');
  } else if (window.location.hostname === 'mhamza.dev') {
    gtag('config', 'G-9837EENVKY');
  }
</script>


<script defer>
    // this script exists to make the transition to light mode (if enabled) almost-instant
    // the react component takes a second to load and dark mode flash is annoying
    // the toggle button doesn't properly reflect the change but i have no idea how to solve that

    const enabled = localStorage.getItem("theme") === "dark"
    const classes = document.querySelector("html").classList
    if (!enabled) {
        classes.remove("dark")
    }
</script>
